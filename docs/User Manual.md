Events Management - User Manual

1. Users and Login
There are two types of user accounts in the system: admins and coaches. Coaches have limited access to information and functionality, while admins are able to do anything that can be done in the system. The creation of both types of accounts is a responsibility reserved for admins.
1.a) Coach Accounts
Coaches can log into their accounts from the login page. It is worth noting that there is only one login page which can be used by both coaches and admins. When coach credentials are entered, the coach will be automatically redirected to the coach dashboard. From there, they will be able to see a list of the athletes under their own club or county. From this dashboard coaches may also add a new athlete by filling out the appropriate form, as well as edit an existing athlete or delete it. From here, coaches can also download a report containing all relevant information about the athletes in their club or county. The coach can check their account details by clicking the "logged in as" link on the top right of the page.
1.b) Admin Accounts
Once an admin has logged in, they will be redirected to the page known as the admin dashboard. This dashboard allows the admin to access all the information contained in the system. There are several tabs on the left side of the page, each of which allows the admin to visualize information regarding a certain type of object in the system. Below is an image of this interface.

From here, admins can edit, delete and create Admins, Athletes, Coaches, Clubs, Competitions and Relays. Admins may also start the automatic scheduler and visualize the schedule that is creates, choose from a number of reports to download, and view their own account information.
1.c) Logging in for the first time
The installation instructions document will walk the user through the creation of what is known as a "superuser" account. For more information on how to get to this point, consult the installation document. Once the superuser has been created, you may log in using those credentials. The login page is accessible from the site base URL. Once you enter the credentials into the login page, you will not be redirected to the admin dashboard. This is because a superuser account is not quite the same as an admin account. To get to the admin dashboard, add "admin_dashboard" to the URL. 
Once there, you should create an admin account by clicking the Admin tab and clicking the "Add Admin" button. Then, log out of the superuser account by clicking the "logged in as" link on the top right and then clicking the "Logout" button. This action will redirect you to the login page again, where you can now login with the admin credentials from the account you have just created. Now you are logged in as a "real" admin, and will be redirected to the admin dashboard from where you can perform all the actions described above.
2. System Elements
There are a number of elements or objects that the system uses and keeps track of. Below is a short description of what each element represents, and what pieces of information are regarding each of them.
2.a) Athletes
Athletes are the ones who participate in a certain competition. The system collects basic personal information regarding athletes, and also a list of the events they have requested to participate in and their availability. Either the athlete's coach or an admin can add an athlete to the system. Athletes are linked to a competition (such as the 2019 State Shoot). <what happens when a new competition gets added>

2.b) Coaches
A coach is both a system user and an "object" that contains information. Only an admin can create a coach. Each coach in the system can access their own dashboard by logging in with the credentials linked to their account. If an admin wishes to keep track of a coach in the system, but not have them access the site, they could simply create a coach but not send them their credentials. Coaches are linked to a certain club, and therefore can only see from their dashboard  the athletes registered under that club or county.
2.c) Admins
Admins have access to all the functionality in the system. Therefore, only those who can be trusted with this much responsibility should be given an admin account. In order to create an admin, only some basic personal information is required. Admin accounts are particular in that they cannot be deleted or edited from the normal interface, so great care should be taken when one is created. 
2.d) Events
Events are the activities that take place during a competition. For example, Archery, Skeet or Trap are all events. Events are to be created by the admin for each competition. They must be associated with a competition, and they also store information regarding the duration and number of athletes of each relay for this event. These events are the ones that athletes can register for; therefore it is advisable to create the events before letting coaches know they should be registering their athletes. These events will be used for automatically creating relays to accommodate the athletes that have requested them.
2.e) Competitions
A competition is, for example, the 2019 Virginia State Shoot. A competition occurs during a weekend (Saturday and Sunday). A competition is linked to events, relays and athletes. Coaches, clubs and admins are not linked to a particular competition. To create a competition, a name and a start date is needed. There is what is considered a "current competition", which is used to display only the relevant athletes, events and relays. Admins can change the current competition by clicking the appropriate link in the Competitions tab. For more information of how to import a competition, please read the section further below.
2.f) Relays
A relay is a particular interval of time during which athletes compete in a certain event. For example, the Skeet event could have a relay from 9:00 to 9:45 am, and another relay from 10:00 to 10:45 am, each of which accommodates 20 athletes. Relays can be created and edited manually, but they are also automatically generated by the scheduler once it runs. The admin can edit or delete the relays created by the scheduler in the same way as those created manually.
2.g) Clubs
Clubs or counties are the representation of the clubs that the athletes attend throughout the year. For example, a possible name for a club could be Albemarle or Orange. Each athlete belongs to a club, and each club may have one or more coaches. As has been mentioned above, coaches can only see those athletes in their own club.
3. Special Pages
While most tabs in the admin dashboard consist of a table showing relevant information about a certain type of element, and a few buttons with actions that can be completed in relation to that type of element, there are two tabs in particular that do not follow this layout.
3.a) Schedule Page
The Schedule page consists of two buttons and a frame showing a Google Calendar which can contain the relays for a certain competition

The "Refresh Schedule" button will trigger an action to traverse the database and create a Google Calendar entry for each relay in the system. This Google Calendar can be accessed in full view by clicking the button at the bottom of the frame

The user may also switch between viewing modes by clicking the tabs at the top of the frame, or navigate through the dates by using the arrows below the title. The user should navigate to the starting date of a certain competition to be able to see the relays associated with it.
The other button, labeled "Start Scheduler" has a very different purpose. This is the button that will trigger the start of the automated scheduler, which we will describe in more detail in a further section. The scheduler will create relays, which will be visible from the Relays tab. The scheduler will not refresh the Google Calendar schedule; so if the user would like the most recent relays to be shown in the Google Calendar, they should then click the "Refresh Schedule" button.
3.b) Reports Page
The Reports tab allows the admin to download a number of reports regarding the data that can be found in the system at the time. The reports are named in such a way that they can be easily recognized by the user. All reports but the CSV report are downloaded in the PDF format to make them compatible across devices and easy to print. The CSV report will be addressed in the Data Export section below. There is a report that lists all the athletes currently in the system, in alphabetical order. The athletes can also be listed by the club they belong to, by using the Athletes per Club report, or by selecting a club name from the dropdown to list only the athletes belonging to the selected club. If instead, the user would like to obtain a report organized around events rather than clubs, the Athletes per Event is useful. It is also possible to pick one or more events from the picker, to generate a report that contains the athletes registered for the selected events. To select more than one event, hold down the Ctrl key and click as many as you would like.

4. Automatic Scheduler
After preliminary competition data has been entered by Admins and Coaches, the automatic scheduler becomes a useful feature. In the Schedule tab, the Start Scheduler button runs the automatic scheduler using the data associated with the current competition. The scheduling algorithm takes into consideration the events requested by athletes and their indicated availability. Using this information along with event information (number of athletes per event relay, and the length of time for each relay) the scheduler assigns athletes to relays for their requested events and assigns a date and time to each of those relays. As discussed in section 3a, these relays can then be seen using the calendar view.
5. Import Competition
If the user would like to create a new competition, but by keeping the athletes and events already contained in another existing one, then the "Import Competition" functionality is useful. In the Competition tab, the Import Competition button gives the user access to a form that contains the necessary information to create a new competition, the name and start date. There is also a dropdown from which the user can select a competition to import the data from. So, all the athletes and events from the competition the user picks from the dropdown will be replicated in the new competition that is being created.
6. Data Export
6.a) Coach Data Export
Coaches have the ability to generate two different reports. After logging in as a coach, the “Create Report” button generates a PDF report that contains the information for all of that coach’s athletes. The “Print Schedule” button creates a PDF report which lists the relay schedule for each athlete. This report can only be generated after the automatic scheduler has been used by an admin for the competition associated with both the coach and their athletes.
6.b) Admin Data Export
Admins have the ability to generate a CSV In the Reports tab, the “Generate Report” button underneath the CSV header allows the admin to generate and download a report in CSV format. This report includes information for all Athletes, Coaches, Clubs, Events, and Relays. This information is useful for maintaining physical records of competition data by administrators. 
